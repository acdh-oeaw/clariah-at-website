---
import Img from "@/components/content/img.astro";
import type { AvatarVariant } from "@/lib/keystatic/component-options";

interface Props {
	alt?: string;
	href: string;
	maxSize?: number;
	variant: AvatarVariant;
}

const { alt = "", href, maxSize, variant } = Astro.props;
---

<figure>
	<Img
		alt={alt}
		class="aspect-square w-full"
		class:list={variant === "circle" ? "rounded-full" : undefined}
		src={href}
		style={{ margin: 0, maxWidth: maxSize != null ? `${String(maxSize)}px` : undefined }}
	/>
	{
		Astro.slots.has("default") ? (
			<figcaption class="text-md text-[--tw-prose-body]">
				<slot />
			</figcaption>
		) : null
	}
</figure>
